<!doctype html>
  <meta charset=utf-8>
  <title>Petris</title>
  <link rel=stylesheet href=style.css>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <meta name="viewport" content="user-scalable=0, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

<div id=content>

  <!-- Canvases -->
  <div id=d>
    <h3>Hold</h3>

    <div id=a>
      <canvas id=hold></canvas>
    </div>
    <ul id=replay style=display:none>
      <li><a onclick=replay(-1)>prev</a>
      <li><a onclick=replay()>Play/Pause</a>
      <li><a onclick=replay(1)>next</a>
    </ul>

    <table id=stats>
      <tr><td id=line>0<th>Lines
      <tr><td id=piece>0<th>Pieces
      <!--<tr><th id=time>00:00.00-->
    </table>
  </div>

  <div id=b>
    <canvas id=bgStack></canvas>
    <canvas id=stack></canvas>
    <canvas id=active></canvas>

    <p id=msg>

    <nav class='menu on'>
      <h1>Petris</h1>
      <ul>
        <li><a onclick=init(0)>Play Sprint</a>
        <li><a onclick=init(1)>Play Marathon</a>
        <!--<li><a onclick=init(2)>Play Ultra</a>-->
        <li><a onclick=init(3)>Play Dig Race</a>
        <li><a onclick=menu(2)><i class="fa fa-gamepad"></i> Controls</a>
        <li><a onclick=menu(1)><i class="fa fa-cog"></i> Settings</a>
      </ul>
    </nav>

    <div class=menu>
      <h2>Settings</h2>
      <div id=settings>
      </div>
      <div style=clear:both><a class=button onclick=menu(0)>Done</a></div>
    </div>

    <div class=menu>
      <h2>Controls</h2>
      <p>Click on the control you want to change, then press any key.
      <table id=controls>
        <tr> <th>Move Left:    <td id=moveLeft>←
        <tr> <th>Move Right:   <td id=moveRight>→
        <tr> <th>Move Down:    <td id=moveDown>↓
        <tr> <th>Hard Drop:    <td id=hardDrop>Space
        <tr> <th>Hold:         <td id=holdPiece>C
        <tr> <th>Spin Right:   <td id=rotRight>X
        <tr> <th>Spin Left:    <td id=rotLeft>Z
        <tr> <th>Spin 180:     <td id=rot180>Shift
        <tr> <th>Retry:        <td id=retry>R
        <tr> <th>Pause:        <td id=pause>Esc
      </table>
      <div style=clear:both><a class=button onclick=menu(0)>Done</a></div>
    </div>

    <nav id=go class=menu>
      <ul>
        <li><a onclick=init(gametype)>Retry</a>
        <li><a onclick=init('replay')>Watch Replay</a>
        <li><a onclick=menu(0)>Main Menu</a>
      </ul>
    </nav>

    <nav id=pause class=menu>
      <ul>
        <li><a onclick=unpause()>Return</a>
        <li><a onclick=init(gametype)>Retry</a>
        <li><a onclick=menu(0)>Main Menu</a>
      </ul>
    </nav>
  </div>

  <div id=c>
    <h3>Next</h3>
    <canvas id=preview></canvas>
  </div>

</div>

<nav class="touchctrl" id="leftctrls">
  <ul>
    <li><a onclick=sendKey("holdPiece")><i class="fa fa-exchange"></i></a>
    <li><a onclick=pause()><i class="fa fa-pause"></i></a>
  </ul>
  <ul>
    <li><a onclick=sendKey("moveDown")><i class="fa fa-arrow-down"></i></a>
    <li><a onclick=sendKey("hardDrop")><i class="fa fa-bolt"></i></a>
  </ul>
</nav>
<nav class="touchctrl" id="rightctrls">
  <ul>
    <li><a onclick=sendKey("moveLeft")><i class="fa fa-arrow-left"></i></a>
    <li><a onclick=sendKey("moveRight")><i class="fa fa-arrow-right"></i></a>
  </ul>
  <ul>
    <li><a onclick=sendKey("rotLeft")><i class="fa fa-undo"></i></a>
    <li><a onclick=sendKey("rotRight")><i class="fa fa-repeat"></i></a>
  </ul>
</nav>

<canvas id=sprite></canvas>
<script src=tetris.js></script>
<script src=piece.js></script>
<script src=stack.js></script>
<script src=hold.js></script>
<script src=preview.js></script>
<script src=menu.js></script>
<script src=bg.js></script>
